<app-modal
  *ngIf="showModal"
  [message]="modalMessage"
  (close)="closeModal()"
></app-modal>
<div class="container mt-3">
  <div *ngIf="trainingType" class="mb-3">
    <h1 class="h2 text-success text-center">
      Selected training type: {{ trainingType }}
    </h1>
  </div>

  <div *ngIf="filteredExercises.length > 0" class="mb-4">
    <form [formGroup]="checkboxForm" (ngSubmit)="onSubmitCheckboxForm()">
      <div formArrayName="done">
        <table class="table table-hover align-middle">
          <thead>
            <tr>
              <th>Status</th>
              <th>Name</th>
              <th>Min Weight</th>
              <th>Max Weight</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let ex of filteredExercises; let i = index">
              <td>
                <input
                  type="checkbox"
                  class="btn-check"
                  id="btncheck{{ i }}"
                  [formControlName]="i"
                />
                <label class="btn btn-outline-success" for="btncheck{{ i }}"
                  >Done</label
                >
              </td>
              <td>{{ ex.name }}</td>
              <td>{{ ex.minWeight }}</td>
              <td>{{ ex.maxWeight }}</td>
            </tr>
          </tbody>
        </table>
      </div>
      <button
        type="submit"
        class="btn btn-success mt-2"
        [disabled]="!isAnyExerciseDone"
      >
        All set!
      </button>
    </form>
  </div>
</div>
